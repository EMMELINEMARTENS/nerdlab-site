{#
  Intro
  ================
#}

{#
  {% include '_components/components.intro-new' %}
#}

{# -- Module -- #}

{% if entry.pageIntro | length() %}
<div class="o-row-large">
  <div class="o-wrapper o-wrapper--huge">
    {# Breadcrumb #}
    {% include "_elements/elements.breadcrumb" %}
    {# Page title #}
    <h1 class="c-h1">{{ entry.pageIntro.pageTitle }}</h1>
    {# Intro #}
    <div class="s-editor s-editor--intro">
      {% set intro = entry.pageIntro.intro.all() %}
      {% for block in intro %}
      {% switch block.type %}
      {% case "paragraph" %}
        {{ block.paragraph }}
      {% case "subtitle" %}
        <h2>{{ block.subtitle }}</h2>
      {% case "button" %}
        <p>
          {% if block.buttonLinkExternal | length() %}
          <a href="{{ block.buttonLinkExternal }}" class="c-btn c-btn--large c-btn--primary">
            {{ block.buttonText }}
          </a>
          {% else %}
          {% if block.buttonLink | length() %}
          {% for link in block.buttonLink.all() %}
          <a href="{{ link.url }}" class="c-btn c-btn--large c-btn--primary">
            {{ block.buttonText }}
          </a>
          {% endfor %}
          {% endif %}
          {% endif %}
        </p>
      {% endswitch %}
      {% endfor %}
    </div>
  </div>
  {% if entry.pageIntro.visual | length() %}
  <div class="c-image-holder">
  {% for block in entry.pageIntro.visual.all() %}
    {% for image in block.image.all() %}
    <img
      class="o-crop__content lazyload fade-in"
      src="{{ image.url(thumb) }}"
      data-sizes="auto"
      data-srcset="{{ image.url(small) }} 240w,
                    {{ image.url(medium) }} 401w,
                    {{ image.url(large) }} 601w"
      alt="{{ image.altText }}">
    {% if image.credits | length() %}
    <p>{{ image.credits }}</p>
    {% endif %}
    {% endfor %}
  {% endfor %}
  {% endif %}
  </div>
</div>
{% endif %}
