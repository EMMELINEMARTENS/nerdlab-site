{#
  Blog Overview
  ================
#}

{#
  {% include '_components/components.blog-overview.html' %}
#}

{# -- Module -- #}
{% paginate craft.entries().section('mutationBlogDetail').orderBy('postDate desc').limit(6) as paginate, entries %}
<div class="o-row-huge-top c-theme-primary-tint c-illustration js-program-watch">
  <div class="o-wrapper o-wrapper--huge">
    <ul class="o-list-bare">
      {% for item in entries %}
      <li class="o-list-bare__item u-divider">
        <article class="c-card c-card--link js-link-expand-holder">
          <div class="o-layout o-layout--small">
            <div class="o-layout__item u-1/3@small u-1/4@medium u-1/3@large u-padding-bottom u-padding-bottom-none@small">
              <div class="c-card__image">
              {% for image in item.image.all() %}
                <div class="o-crop o-crop--4:3 c-image-link js-link-expand">
                  <img
                    class="o-crop__content o-crop__content--center lazyload fade-in"
                    src="{{ image.url(thumb) }}"
                    data-srcset="{{ image.url(large) }}"
                    alt="{{ image.title }}">
                </div>
                {% endfor %}
              </div>
            </div>
            <div class="o-layout__item u-2/3@small u-3/4@medium u-2/3@large">
              <div class="c-card__body c-editor u-mw">
                {% for block in item.mutationAbout.all() %}
                {% switch block.type %}
                {% case "heading" %}
                <h2 class="c-subtitle"><a href="{{ item.url }}" class="c-link c-link--bare js-link-expand__target">{{ block.heading | raw }}</a></h2>
                {% case "editor" %}
                  {{ block.editor }}
                {% case "paragraph" %}
                {{ block.paragraph }}
                {% endswitch %}
                {% endfor %}
                <p class="u-margin-top u-margin-bottom-none">
                  <span class="c-link c-link--none js-link-expand">
                    {{ "More" | t }}
                  </span>
                </p>
              </div>
            </div>
          </div>
        </article>
      </li>
      {% endfor %}
    </ul>
    {# Build pagination interface if more than 1 page
    {% if paginate.totalPages > 1 %}
      <ul class="o-list-bare c-pagination">
        {% if paginate.prevUrl %}
          <li class="o-list-bare__item c-pagination__item c-pagination__item--first"><a href="{{ paginate.prevUrl }}" class="c-link c-link--bare">{% include '_tools/tools.icon.html' with { options: { icon: 'previous' } } %} {{ labels.labelPreviousPage }}</a></li>
        {% endif %}

        {% for page, url in paginate.getPrevUrls(2) %}
          <li class="o-list-bare__item c-pagination__item"><a href="{{ url }}" class="c-link c-link--bare">{{ page }}</a></li>
        {% endfor %}

        <li class="o-list-bare__item c-pagination__item c-pagination__item--current">{{ paginate.currentPage }}</li>

        {% for page, url in paginate.getNextUrls(2) %}
          <li class="o-list-bare__item c-pagination__item"><a href="{{ url }}"  class="c-link c-link--bare">{{ page }}</a></li>
        {% endfor %}

        {% if paginate.nextUrl %}
          <li class="o-list-bare__item c-pagination__item c-pagination__item--last"><a href="{{ paginate.nextUrl }}"  class="c-link c-link--bare">{{ labels.labelNextPage }} {% include '_tools/tools.icon.html' with { options: { icon: 'next' } } %}</a></li>
        {% endif %}
      </ul>
    {% endif %} #}
  </div>
</div>


